<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Majestic - Card Reading Engine</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Avatar Grid */
        .avatar-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 40px;
            transition: all 0.3s ease;
        }

        .avatar-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .avatar-card.disabled {
            opacity: 0.3;
            cursor: not-allowed;
            pointer-events: none;
        }

        .avatar-card:not(.disabled):hover {
            transform: translateY(-5px);
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
        }

        .avatar-card.selected {
            border-color: #ffd700;
            background: rgba(255, 215, 0, 0.1);
        }

        .avatar-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .avatar-name {
            font-size: 18px;
            font-weight: 600;
            color: #fff;
        }

        .avatar-element {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 5px;
        }

        /* Reading Type Selection */
        .reading-types {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .reading-type-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .reading-type-card:hover {
            transform: translateY(-8px);
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.08);
        }

        .reading-type-icon {
            font-size: 64px;
            margin-bottom: 20px;
            display: block;
        }

        .reading-type-title {
            font-size: 24px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 10px;
        }

        .reading-type-subtitle {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.5;
        }

        /* Card Animation Container */
        .card-animation-container {
            display: none;
            padding: 60px 20px;
            text-align: center;
        }

        .card-animation-container.active {
            display: block;
        }

        .card-deck {
            position: relative;
            height: 400px;
            margin: 40px auto;
            max-width: 800px;
        }

        .tarot-card {
            width: 180px;
            height: 300px;
            background: linear-gradient(135deg, #2d1b69 0%, #1a0f3d 100%);
            border: 3px solid #ffd700;
            border-radius: 12px;
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 72px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            transition: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .tarot-card.dealt {
            animation: dealCard 0.8s ease-out forwards;
        }

        .tarot-card.jumping {
            animation: jumpCard 1s ease-out forwards;
            border-color: #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.6);
        }

        @keyframes dealCard {
            from {
                transform: translateX(-50%) translateY(-50%) rotate(-15deg) scale(0.5);
                opacity: 0;
            }
            to {
                transform: translateX(0) translateY(0) rotate(0deg) scale(1);
                opacity: 1;
            }
        }

        @keyframes jumpCard {
            0% {
                transform: translateY(0) scale(1);
            }
            30% {
                transform: translateY(-80px) scale(1.15);
            }
            50% {
                transform: translateY(-80px) scale(1.15) rotate(5deg);
            }
            70% {
                transform: translateY(-60px) scale(1.1) rotate(-5deg);
            }
            100% {
                transform: translateY(-60px) scale(1.1);
            }
        }

        /* Base Reading Display */
        .base-reading {
            display: none;
            padding: 40px 20px;
        }

        .base-reading.active {
            display: block;
        }

        .cards-display {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .card-position {
            text-align: center;
        }

        .card-position .tarot-card {
            position: relative;
            margin: 0 auto 15px;
        }

        .position-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .jumping-card-container {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid rgba(255, 107, 107, 0.3);
            border-radius: 16px;
        }

        .jumping-card-label {
            font-size: 20px;
            color: #ff6b6b;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .interpretation-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 40px;
            margin-top: 40px;
        }

        .interpretation-title {
            font-size: 28px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 20px;
        }

        .interpretation-text {
            font-size: 16px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 30px;
        }

        .reflection-points {
            list-style: none;
            padding: 0;
        }

        .reflection-points li {
            padding: 15px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 15px;
            line-height: 1.6;
        }

        .reflection-points li:last-child {
            border-bottom: none;
        }

        .reflection-points li::before {
            content: "‚ú¶";
            color: #ffd700;
            margin-right: 12px;
            font-size: 18px;
        }

        /* Avatar Reading View */
        .avatar-reading {
            display: none;
            padding: 40px 20px;
        }

        .avatar-reading.active {
            display: block;
        }

        .avatar-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .avatar-reading-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .avatar-reading-name {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .avatar-tagline {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
        }

        /* Avatar-specific styling */
        .avatar-reading.olivia {
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(46, 125, 50, 0.1) 100%);
        }

        .avatar-reading.olivia .interpretation-section {
            border-left: 4px solid #4CAF50;
        }

        .avatar-reading.elijah {
            background: linear-gradient(135deg, rgba(158, 158, 158, 0.1) 0%, rgba(117, 117, 117, 0.1) 100%);
        }

        .avatar-reading.elijah .interpretation-section {
            border-left: 4px solid #9E9E9E;
        }

        .avatar-reading.destiny {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1) 0%, rgba(13, 71, 161, 0.1) 100%);
        }

        .avatar-reading.destiny .interpretation-section {
            border-left: 4px solid #2196F3;
        }

        .avatar-reading.casper {
            background: linear-gradient(135deg, rgba(255, 87, 34, 0.1) 0%, rgba(191, 54, 12, 0.1) 100%);
        }

        .avatar-reading.casper .interpretation-section {
            border-left: 4px solid #FF5722;
        }

        .music-note {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
            border-left: 4px solid #ffd700;
        }

        .music-note-title {
            font-size: 14px;
            color: #ffd700;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .music-note-content {
            font-size: 16px;
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
        }

        /* Buttons */
        .btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 30px;
        }

        .btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #ffd700;
            transform: translateY(-2px);
        }

        .back-btn {
            margin-bottom: 30px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .avatar-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .avatar-icon {
                font-size: 36px;
            }

            .avatar-name {
                font-size: 16px;
            }

            .reading-types {
                grid-template-columns: 1fr;
            }

            .cards-display {
                gap: 15px;
            }

            .tarot-card {
                width: 120px;
                height: 200px;
                font-size: 48px;
            }

            .interpretation-section {
                padding: 20px;
            }
        }

        .hide {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Avatar Grid (Initially Disabled) -->
        <div class="avatar-grid" id="avatarGrid">
            <div class="avatar-card disabled" data-avatar="olivia">
                <div class="avatar-icon">üå±</div>
                <div class="avatar-name">Olivia</div>
                <div class="avatar-element">Earth</div>
            </div>
            <div class="avatar-card disabled" data-avatar="elijah">
                <div class="avatar-icon">üå¨Ô∏è</div>
                <div class="avatar-name">Elijah</div>
                <div class="avatar-element">Air</div>
            </div>
            <div class="avatar-card disabled" data-avatar="destiny">
                <div class="avatar-icon">üåä</div>
                <div class="avatar-name">Destiny</div>
                <div class="avatar-element">Water</div>
            </div>
            <div class="avatar-card disabled" data-avatar="casper">
                <div class="avatar-icon">üî•</div>
                <div class="avatar-name">Casper</div>
                <div class="avatar-element">Fire</div>
            </div>
        </div>

        <!-- Reading Type Selection -->
        <div class="reading-types" id="readingTypes">
            <div class="reading-type-card" data-reading="daily">
                <span class="reading-type-icon">üìÖ</span>
                <div class="reading-type-title">Daily Card</div>
                <div class="reading-type-subtitle">Today's guidance</div>
            </div>
            <div class="reading-type-card" data-reading="birth">
                <span class="reading-type-icon">ü™ê</span>
                <div class="reading-type-title">Birth Card</div>
                <div class="reading-type-subtitle">Your soul's blueprint</div>
            </div>
            <div class="reading-type-card" data-reading="three-card">
                <span class="reading-type-icon">üîÆ</span>
                <div class="reading-type-title">Three-Card Reading</div>
                <div class="reading-type-subtitle">Past ¬∑ Present ¬∑ Future</div>
            </div>
            <div class="reading-type-card" data-reading="jumping">
                <span class="reading-type-icon">‚ú®</span>
                <div class="reading-type-title">Jumping Card Spread</div>
                <div class="reading-type-subtitle">Three cards + special guidance</div>
            </div>
        </div>

        <!-- Card Animation Container -->
        <div class="card-animation-container" id="cardAnimation">
            <div class="card-deck" id="cardDeck"></div>
        </div>

        <!-- Base Reading Display -->
        <div class="base-reading" id="baseReading">
            <button class="btn back-btn" onclick="resetToSelection()">‚Üê Back to Reading Types</button>
            
            <div class="cards-display" id="cardsDisplay"></div>
            
            <div class="interpretation-section">
                <h2 class="interpretation-title">Base Interpretation</h2>
                <p class="interpretation-text" id="baseInterpretationText"></p>
                <ul class="reflection-points" id="reflectionPoints"></ul>
            </div>

            <div class="jumping-card-container hide" id="jumpingCardSection">
                <h3 class="jumping-card-label">‚ö° Your Jumping Card ‚ö°</h3>
                <div class="card-position">
                    <div class="tarot-card jumping" id="jumpingCardDisplay"></div>
                </div>
                <div class="interpretation-section">
                    <h3 class="interpretation-title">Jumping Card Guidance</h3>
                    <ul class="reflection-points" id="jumpingReflectionPoints"></ul>
                    <p class="interpretation-text" id="jumpingGuidance"></p>
                </div>
            </div>
        </div>

        <!-- Avatar Reading View -->
        <div class="avatar-reading" id="avatarReading">
            <button class="btn back-btn" onclick="backToBase()">‚Üê Back to Base Reading</button>
            
            <div class="avatar-header">
                <div class="avatar-reading-icon" id="avatarReadingIcon"></div>
                <h1 class="avatar-reading-name" id="avatarReadingName"></h1>
                <p class="avatar-tagline" id="avatarTagline"></p>
            </div>

            <div class="cards-display" id="avatarCardsDisplay"></div>

            <div class="interpretation-section">
                <h2 class="interpretation-title" id="avatarInterpretationTitle"></h2>
                <p class="interpretation-text" id="avatarInterpretationText"></p>
            </div>

            <div class="music-note">
                <div class="music-note-title">üéµ Soundtrack for this reading</div>
                <div class="music-note-content" id="avatarMusicNote"></div>
            </div>

            <div class="interpretation-section">
                <h3 class="interpretation-title">Key Insights</h3>
                <ul class="reflection-points" id="avatarReflectionPoints"></ul>
            </div>

            <div class="jumping-card-container hide" id="avatarJumpingSection">
                <h3 class="jumping-card-label">‚ö° Special Message ‚ö°</h3>
                <div class="interpretation-section">
                    <p class="interpretation-text" id="avatarJumpingText"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Card Data
        const CARDS = {
            daily: {
                card: { emoji: '‚≠ê', name: 'The Star', number: 'XVII' },
                base: {
                    text: "The Star brings hope, renewal, and inspiration. This major arcana card suggests a time of healing and optimism, where you can reconnect with your sense of purpose and trust in the universe's guidance.",
                    points: [
                        "Allow yourself to dream big and trust your vision for the future",
                        "Focus on healing and self-care today",
                        "Share your gifts and light with others",
                        "Stay open to unexpected blessings and synchronicities"
                    ]
                }
            },
            birth: {
                birthdate: "March 15, 1990",
                card: { emoji: 'üé©', name: 'The Magician', number: 'I' },
                base: {
                    text: "The Magician represents manifestation, resourcefulness, and personal power. As your birth card, it reveals your natural ability to transform ideas into reality and your skill at utilizing all tools available to you.",
                    points: [
                        "You have all the resources you need within you",
                        "Your power lies in conscious creation and intentional action",
                        "Communication and skill development are your natural gifts",
                        "Balance and integration of different aspects of yourself lead to mastery"
                    ]
                }
            },
            threeCard: {
                cards: [
                    { emoji: 'üç∑', name: 'Three of Cups', position: 'Past' },
                    { emoji: 'üíï', name: 'The Lovers', position: 'Present' },
                    { emoji: 'üèõÔ∏è', name: 'Ten of Pentacles', position: 'Future' }
                ],
                base: {
                    text: "This spread reveals a journey from joyful connection through significant choice to lasting abundance. The Three of Cups shows celebration and community in your past, The Lovers indicates an important decision or union in your present, and the Ten of Pentacles promises long-term security and legacy in your future.",
                    points: [
                        "Past celebrations and friendships have shaped your current path",
                        "A significant relationship or choice demands your attention now",
                        "Your decisions today are building toward lasting prosperity and stability"
                    ]
                }
            },
            jumping: {
                cards: [
                    { emoji: 'üç∑', name: 'Three of Cups', position: 'Past' },
                    { emoji: 'üíï', name: 'The Lovers', position: 'Present' },
                    { emoji: 'üèõÔ∏è', name: 'Ten of Pentacles', position: 'Future' }
                ],
                jumpingCard: { emoji: 'üÉè', name: 'The Fool', number: '0' },
                base: {
                    text: "This spread reveals a journey from joyful connection through significant choice to lasting abundance. The Three of Cups shows celebration and community in your past, The Lovers indicates an important decision or union in your present, and the Ten of Pentacles promises long-term security and legacy in your future.",
                    points: [
                        "Past celebrations and friendships have shaped your current path",
                        "A significant relationship or choice demands your attention now",
                        "Your decisions today are building toward lasting prosperity and stability"
                    ],
                    jumpingPoints: [
                        "The Fool's appearance suggests a need for spontaneity and trust",
                        "Don't let fear of the unknown prevent you from taking a leap",
                        "New beginnings require releasing old patterns and expectations"
                    ],
                    jumpingGuidance: "The Fool jumping into your reading is a powerful sign to embrace beginner's mind and trust in new adventures. While your spread shows a clear path from community to commitment to security, The Fool reminds you not to become too rigid in your plans. Stay open to unexpected opportunities and trust that sometimes the most meaningful journeys begin with a single, courageous step into the unknown."
                }
            }
        };

        // Avatar Data
        const AVATARS = {
            olivia: {
                icon: 'üå±',
                name: 'Olivia',
                tagline: 'Grounded wisdom meets practical magic',
                music: {
                    daily: '"Landslide" by Fleetwood Mac ‚Äî for reflection and gentle change',
                    birth: '"This Is Me" from The Greatest Showman ‚Äî owning your power',
                    threeCard: '"The Chain" by Fleetwood Mac ‚Äî honoring what connects us',
                    jumping: '"Dog Days Are Over" by Florence + The Machine ‚Äî freedom and release'
                },
                daily: {
                    title: "Olivia's Daily Reading",
                    text: "The Star is asking you to slow down today, babe. Like, actually slow down. Not that fake 'I'm relaxing while scrolling through my to-do list' stuff. The universe is literally trying to pour blessings into your cup, but you keep moving the cup. Find one thing today that makes you feel genuinely hopeful‚Äîmaybe it's a conversation, maybe it's finally watering that plant you've been neglecting‚Äîand let yourself fully feel it. That's where the magic is.",
                    points: [
                        "Your practical side wants a plan, but today's about trusting the flow",
                        "Small acts of self-care today = major breakthroughs tomorrow",
                        "Someone needs to hear what you've learned‚Äîdon't gatekeep your growth",
                        "The answer you're looking for is simpler than you think"
                    ]
                },
                birth: {
                    title: "Olivia's Birth Card Reading",
                    text: "Okay, so you're a Magician. Which means you were literally born with the cheat codes to life, but here's the catch: you actually have to use them. You have this incredible ability to take abstract ideas and turn them into real, tangible things that help people. But I see you sometimes playing small, like you don't want to seem 'too much.' Babe, you ARE too much‚Äîin the best way. That's your power. You're here to show people that magic isn't some distant, mystical thing. It's in the everyday choices, the small rituals, the way you show up. Own it.",
                    points: [
                        "Your superpower is making the impossible look effortless‚Äîstop downplaying it",
                        "You're at your best when all parts of you are working together (mind, body, spirit, emotions)",
                        "People come to you for answers because you have them‚Äîtrust that",
                        "Your legacy will be built on helping others access their own magic"
                    ]
                },
                threeCard: {
                    title: "Olivia's Three-Card Reading",
                    text: "This spread is so juicy. You've been in your community era (Three of Cups), celebrating wins with your people, feeling connected. Now you're standing at The Lovers‚Äînot just about romance, although maybe‚Äîbut about choosing your values. Like, 'What actually matters to me?' And sweetie, the Ten of Pentacles is your confirmation that choosing authenticity over approval is what builds real, lasting wealth (not just money, but the kind of abundance that feels like home). Your past joy is not wasted; it's teaching you what you want your future to look like.",
                    points: [
                        "The friendships that celebrated you then are still rooting for you now",
                        "This decision isn't just about you‚Äîit's about the legacy you're building",
                        "Choosing the harder right over the easier wrong always pays off",
                        "Stability doesn't mean stagnation‚Äîit means having a foundation to grow from"
                    ]
                },
                jumping: {
                    title: "Olivia's Jumping Card Reading",
                    text: "Everything I said about the spread still stands, but The Fool literally jumped out to say: 'Don't you dare overcomplicate this.' You're trying to make the 'right' choice, but babe, there is no right choice. There's just the choice that feels most aligned with who you're becoming. The Fool is your permission slip to be messy, to not have it all figured out, to take the leap even when you can't see the net. Your practical brain hates this, I know. But sometimes the most grounded thing you can do is trust the fall.",
                    jumpingText: "The Fool wants you to stop trying to control the outcome. You've done the work (Three of Cups), you're making conscious choices (The Lovers), and yes, you're building toward something stable (Ten of Pentacles)‚Äîbut none of that means you have to have it all figured out right now. New beginnings are supposed to feel uncertain. That's literally the point. Trust that your past has prepared you, your present is guiding you, and your future is secure enough to handle a little chaos. Take the leap. You've got this."
                }
            },
            elijah: {
                icon: 'üå¨Ô∏è',
                name: 'Elijah',
                tagline: 'Clarity through balance, wisdom through reflection',
                music: {
                    daily: '"Breathe Me" by Sia ‚Äî for quiet contemplation',
                    birth: '"Hall of Fame" by The Script ‚Äî celebrating potential',
                    threeCard: '"Fix You" by Coldplay ‚Äî finding meaning in transition',
                    jumping: '"Shake It Out" by Florence + The Machine ‚Äî releasing what weighs you down'
                },
                daily: {
                    title: "Elijah's Daily Reading",
                    text: "The Star represents a moment of clarity after confusion, hope after disappointment. Today offers you a chance to reconnect with your core values and remember what you're actually working toward. I notice you tend to intellectualize your emotions‚Äîthat's not wrong, but today calls for letting yourself actually feel the hope, not just think about it. Consider: what would it look like to trust the process without constantly analyzing it?",
                    points: [
                        "Your analytical mind is a gift, but today asks for faith over logic",
                        "Healing often looks like small, consistent choices rather than dramatic breakthroughs",
                        "Share your insights‚Äîyour perspective helps others find their way",
                        "Balance action with allowing; not everything needs to be figured out today"
                    ]
                },
                birth: {
                    title: "Elijah's Birth Card Reading",
                    text: "The Magician as your birth card indicates you're wired to see connections others miss and to synthesize disparate ideas into coherent wholes. You have a rare ability to stand in the middle‚Äîbetween polarities, between people, between concepts‚Äîand find the thread that unites them. This makes you an excellent mediator, teacher, or strategist. The challenge? Sometimes you get so good at seeing all sides that you struggle to pick one and commit. Remember: choosing doesn't mean closing off other options; it means honoring your truth in this moment.",
                    points: [
                        "Your strength is integration‚Äîbringing together what seems opposite",
                        "Communication is your tool for transformation, not just information",
                        "You're here to show that mastery comes from balance, not perfection",
                        "Your legacy will be measured by the clarity you bring to complexity"
                    ]
                },
                threeCard: {
                    title: "Elijah's Three-Card Reading",
                    text: "This spread tells a story of evolution: from collective joy (Three of Cups) to personal alignment (The Lovers) to legacy building (Ten of Pentacles). The progression is clear‚Äîwhat once fulfilled you socially is now asking for deeper integration with your personal values, which will ultimately create something that outlasts you. The Lovers here isn't asking you to choose between options; it's asking you to choose yourself. What decision, if made authentically, would create the most alignment between who you are and how you live?",
                    points: [
                        "Past connections taught you what you value in relationships and community",
                        "This moment requires choosing alignment over comfort",
                        "Long-term stability comes from short-term courage in honoring your truth",
                        "Your future abundance is built on today's integrity"
                    ]
                },
                jumping: {
                    title: "Elijah's Jumping Card Reading",
                    text: "The main spread shows a logical progression from joy to choice to security. But The Fool jumping in disrupts that narrative‚Äîin the best way. It's reminding you that not everything needs to make sense before you act on it. You're someone who likes to have all the information, to weigh the pros and cons, to think it through from every angle. The Fool says: sometimes you just have to trust the impulse. Not recklessly, but with the understanding that some paths only reveal themselves when you start walking them.",
                    jumpingText: "Here's what The Fool is really saying: your need for certainty is actually holding you back right now. You've celebrated with your people (Three of Cups), you're making conscious choices (The Lovers), you're building toward stability (Ten of Pentacles)‚Äîall true. But The Fool is the wild card that says the most important thing you can do right now is embrace not knowing. New chapters require new approaches. You don't need more information; you need more trust. In yourself, in the process, in the journey. The net will appear. It always does for those brave enough to step."
                }
            },
            destiny: {
                icon: 'üåä',
                name: 'Destiny',
                tagline: 'Deep feeling, deeper knowing',
                music: {
                    daily: '"Cosmic Love" by Florence + The Machine ‚Äî for divine connection',
                    birth: '"Rise Up" by Andra Day ‚Äî honoring your power',
                    threeCard: '"The Night We Met" by Lord Huron ‚Äî honoring what was, embracing what is',
                    jumping: '"Brave" by Sara Bareilles ‚Äî trusting your voice'
                },
                daily: {
                    title: "Destiny's Daily Reading",
                    text: "Oh honey, The Star just wrapped you in the universe's biggest hug. You've been feeling it all lately‚Äîthe weight, the worry, the what-ifs‚Äîand today the cosmos is saying 'I see you, and you're going to be okay.' More than okay. This card is about remembering that you're part of something bigger, that your intuition isn't just right, it's divinely guided. Today, trust the subtle nudges. That person who pops into your mind? Reach out. That idea that feels too good to be true? Explore it. You're being called back to hope, and hope is calling you home.",
                    points: [
                        "Your emotions aren't 'too much'‚Äîthey're the compass pointing you toward truth",
                        "Healing isn't linear, and today might feel like two steps forward, one step back‚Äîthat's still progress",
                        "Someone in your life needs your light; don't dim it because you're tired",
                        "The universe is conspiring in your favor, even when it doesn't feel like it"
                    ]
                },
                birth: {
                    title: "Destiny's Birth Card Reading",
                    text: "The Magician as your birth card? Baby, you're a literal conduit between the spiritual and material worlds. You don't just manifest‚Äîyou alchemize. You take feelings, dreams, intuition (all that watery stuff you're made of) and you turn them into real, tangible change. But here's what you need to hear: your magic isn't less powerful because it's emotional. It's more powerful. You create from the heart, and that's the purest form of manifestation there is. Stop apologizing for feeling deeply. That's literally your superpower.",
                    points: [
                        "Your ability to transform emotions into action is rare and needed",
                        "You're here to show that vulnerability and power aren't opposites",
                        "Trust your gut more than you trust your mind‚Äîit knows things your mind hasn't caught up to yet",
                        "Your legacy is the ripple effect of every person you've helped feel seen, heard, and held"
                    ]
                },
                threeCard: {
                    title: "Destiny's Three-Card Reading",
                    text: "This spread is making me emotional just reading it for you. The Three of Cups in your past‚Äîthose moments of pure, unfiltered joy with your people‚Äîweren't just fun times, they were soul contracts being honored. The Lovers in your present is asking: 'Who do you choose to be now?' Not who do others need you to be, but who does your soul need you to be? And the Ten of Pentacles? That's your future self saying 'thank you for choosing love, thank you for choosing truth, thank you for choosing yourself.' Everything you're building now is creating a foundation for generations. Feel that weight, but also feel that honor.",
                    points: [
                        "The joy you experienced in the past is a preview of the joy you're building toward",
                        "This isn't about choosing between two things‚Äîit's about choosing yourself in all things",
                        "Security isn't just financial, it's emotional, spiritual, relational‚Äîyou're building all of it",
                        "Your choices echo forward; make them from love, not fear"
                    ]
                },
                jumping: {
                    title: "Destiny's Jumping Card Reading",
                    text: "Okay, so The Fool jumped into your reading and honestly? I'm not surprised. You've been playing it safe, protecting your heart, thinking seventeen steps ahead before taking one step forward. The Fool is here to lovingly shove you off the cliff. Not to hurt you, but to remind you that you know how to fly‚Äîyou've just forgotten. This isn't about being reckless; it's about being free. Free from overthinking, free from past pain, free from the fear of getting it wrong. There's no wrong here. There's just you, trusting yourself, finally.",
                    jumpingText: "The spread shows your journey from community to choice to legacy, and all of that is true and beautiful. But The Fool? The Fool is saying 'Stop trying to control how you get there.' You're so focused on making the right choice (The Lovers) and building the right future (Ten of Pentacles) that you're missing the magic of right now. The Fool is pure presence, pure trust, pure 'I don't know what happens next and that's okay.' Your heart knows the way. Stop letting your head negotiate with it. Jump. The universe has been catching you your whole life. It's not going to stop now."
                }
            },
            casper: {
                icon: 'üî•',
                name: 'Casper',
                tagline: 'Passion fuels purpose; courage creates change',
                music: {
                    daily: '"On Top of the World" by Imagine Dragons ‚Äî for bold optimism',
                    birth: '"Roar" by Katy Perry ‚Äî claiming your power unapologetically',
                    threeCard: '"Believer" by Imagine Dragons ‚Äî transformation through action',
                    jumping: '"Can't Hold Us" by Macklemore ‚Äî unstoppable energy'
                },
                daily: {
                    title: "Casper's Daily Reading",
                    text: "The Star is your green light, your 'hell yes,' your cosmic confirmation that you're on the right track. You've been waiting for a sign? THIS IS IT. Today is about bold optimism, about taking that inspiration you've been sitting on and actually doing something with it. You know that idea that keeps you up at night? Stop planning it and start building it. The universe rewards action, and you've got enough fire in you to light up the whole damn sky. Share your vision. Make the call. Take the risk. You're not here to play small.",
                    points: [
                        "Your enthusiasm is contagious‚Äîuse it to inspire others, not just yourself",
                        "Today's energy supports big swings, so stop holding back",
                        "Hope isn't passive; it's the fuel that drives action‚Äîso act",
                        "The best time to start was yesterday; the second best time is right now"
                    ]
                },
                birth: {
                    title: "Casper's Birth Card Reading",
                    text: "The Magician? Bro, you were born to EXECUTE. While everyone else is thinking about it, talking about it, waiting for the right time‚Äîyou're already three steps ahead, making it happen. You've got this rare combination of vision and action, of 'what if' and 'watch me.' That's powerful. That's rare. That's exactly what the world needs. But here's the thing: with great power comes great responsibility to not burn yourself (or others) out. You can manifest anything, but you have to choose wisely what you pour your energy into. Not everything deserves your fire.",
                    points: [
                        "Your power is in your ability to move fast and break things‚Äîjust make sure you're breaking the right things",
                        "You inspire people to believe in themselves by believing in yourself first",
                        "Mastery for you isn't about perfection; it's about momentum",
                        "Your legacy will be measured by the number of people you empowered to take action"
                    ]
                },
                threeCard: {
                    title: "Casper's Three-Card Reading",
                    text: "This spread is fire. You celebrated hard (Three of Cups), you showed up for your people, you lived in the moment‚Äîand that wasn't wasted energy, that was research. You were learning what lights you up. Now you're at The Lovers, and this is where you choose: do you keep doing what's comfortable, or do you chase what sets your soul on fire? And here's the beautiful part‚Äîthe Ten of Pentacles shows that choosing passion doesn't mean sacrificing security. It means building security on purpose, not obligation. Your future self is rich because your present self was brave.",
                    points: [
                        "The celebrations in your past taught you what makes you feel alive‚Äîdon't forget that",
                        "This choice isn't between safety and risk; it's between alignment and compromise",
                        "Long-term wins come from short-term courage‚Äîchoose the thing that scares you a little",
                        "Abundance follows authenticity; fake it and you'll build a house of cards, own it and you'll build an empire"
                    ]
                },
                jumping: {
                    title: "Casper's Jumping Card Reading",
                    text: "THE FOOL JUMPED. Of course it did. Because you don't need more planning, more strategizing, more 'let me think about it.' You need to GO. The Fool is chaos in the best way‚Äîit's the part of you that knows life's too short to play it safe. You've got the community support (Three of Cups), you're making aligned choices (The Lovers), you're building toward something real (Ten of Pentacles)‚Äînow The Fool is saying 'Great. Now do it scared. Do it messy. Do it before you're ready.' Because that's how legends are born.",
                    jumpingText: "Here's what The Fool really means for you: You're overthinking it. I know, I know‚Äîyou want to have your ducks in a row, you want a plan, you want to make sure you're setting yourself up for that Ten of Pentacles success. But The Fool is the reminder that sometimes you just have to jump and build your wings on the way down. You've got the skills (Magician energy), you've got the fire (that's literally your element), you've got the vision (hello, The Star showed up for a reason). What you need now isn't more preparation. It's more faith. Stop waiting for permission. The universe already said yes. Now you have to say yes to yourself."
                }
            }
        };

        let currentReading = null;
        let selectedAvatar = null;

        // Initialize
        console.log('Initializing reading engine...');
        
        // Wait for DOM to be fully loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
        
        function init() {
            console.log('DOM ready, setting up event listeners...');
            
            const readingCards = document.querySelectorAll('.reading-type-card');
            console.log('Found reading type cards:', readingCards.length);
            readingCards.forEach(card => {
                card.addEventListener('click', () => {
                    console.log('Reading type clicked:', card.dataset.reading);
                    selectReading(card.dataset.reading);
                });
            });

            const avatarCards = document.querySelectorAll('.avatar-card');
            console.log('Found avatar cards:', avatarCards.length);
            avatarCards.forEach(card => {
                card.addEventListener('click', () => {
                    if (!card.classList.contains('disabled')) {
                        console.log('Avatar clicked:', card.dataset.avatar);
                        selectAvatar(card.dataset.avatar);
                    }
                });
            });
        }

        function selectReading(readingType) {
            try {
                console.log('selectReading called with:', readingType);
                currentReading = readingType;
                
                // Hide reading selection
                const readingTypes = document.getElementById('readingTypes');
                if (!readingTypes) {
                    console.error('readingTypes element not found');
                    return;
                }
                readingTypes.style.display = 'none';
                
                // Show animation
                const animationContainer = document.getElementById('cardAnimation');
                if (!animationContainer) {
                    console.error('cardAnimation element not found');
                    return;
                }
                animationContainer.classList.add('active');
                
                // Animate cards based on reading type
                animateCards(readingType);
                
                // After animation, show base reading
                setTimeout(() => {
                    animationContainer.classList.remove('active');
                    showBaseReading(readingType);
                }, 3000);
            } catch (error) {
                console.error('Error in selectReading:', error);
            }
        }

        function animateCards(readingType) {
            try {
                console.log('animateCards called with:', readingType);
                const deck = document.getElementById('cardDeck');
                if (!deck) {
                    console.error('cardDeck element not found');
                    return;
                }
                deck.innerHTML = '';
                
                const data = CARDS[readingType];
                if (!data) {
                    console.error('No card data found for reading type:', readingType);
                    return;
                }
                console.log('Card data:', data);
                
                if (readingType === 'daily' || readingType === 'birth') {
                    // Single card animation
                    const card = document.createElement('div');
                    card.className = 'tarot-card dealt';
                    card.textContent = data.card.emoji;
                    card.style.left = '50%';
                    card.style.top = '50%';
                    card.style.transform = 'translateX(-50%) translateY(-50%)';
                    deck.appendChild(card);
                } else {
                    // Three card animation
                    const positions = [
                        { left: '15%', top: '50%' },
                        { left: '50%', top: '50%' },
                        { left: '85%', top: '50%' }
                    ];
                    
                    data.cards.forEach((cardData, index) => {
                        setTimeout(() => {
                            const card = document.createElement('div');
                            card.className = 'tarot-card dealt';
                            card.textContent = cardData.emoji;
                            card.style.left = positions[index].left;
                            card.style.top = positions[index].top;
                            card.style.transform = 'translateX(-50%) translateY(-50%)';
                            deck.appendChild(card);
                        }, index * 400);
                    });
                    
                    // Jumping card animation (if applicable)
                    if (readingType === 'jumping') {
                        setTimeout(() => {
                            const jumpCard = document.createElement('div');
                            jumpCard.className = 'tarot-card jumping';
                            jumpCard.textContent = data.jumpingCard.emoji;
                            jumpCard.style.left = '50%';
                            jumpCard.style.top = '80%';
                            jumpCard.style.transform = 'translateX(-50%)';
                            deck.appendChild(jumpCard);
                        }, 1600);
                    }
                }
            } catch (error) {
                console.error('Error in animateCards:', error);
            }
        }

        function showBaseReading(readingType) {
            const data = CARDS[readingType];
            const baseReading = document.getElementById('baseReading');
            const cardsDisplay = document.getElementById('cardsDisplay');
            
            baseReading.classList.add('active');
            cardsDisplay.innerHTML = '';
            
            // Enable avatar selection
            document.querySelectorAll('.avatar-card').forEach(card => {
                card.classList.remove('disabled');
            });
            
            // Display cards
            if (readingType === 'daily') {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card-position';
                cardDiv.innerHTML = `
                    <div class="tarot-card">${data.card.emoji}</div>
                    <div class="position-label">${data.card.name}</div>
                `;
                cardsDisplay.appendChild(cardDiv);
            } else if (readingType === 'birth') {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card-position';
                cardDiv.innerHTML = `
                    <div class="tarot-card">${data.card.emoji}</div>
                    <div class="position-label">${data.card.name}<br>Birth Date: ${data.birthdate}</div>
                `;
                cardsDisplay.appendChild(cardDiv);
            } else {
                data.cards.forEach(cardData => {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'card-position';
                    cardDiv.innerHTML = `
                        <div class="tarot-card">${cardData.emoji}</div>
                        <div class="position-label">${cardData.position}<br>${cardData.name}</div>
                    `;
                    cardsDisplay.appendChild(cardDiv);
                });
            }
            
            // Display interpretation
            document.getElementById('baseInterpretationText').textContent = data.base.text;
            
            const pointsList = document.getElementById('reflectionPoints');
            pointsList.innerHTML = '';
            data.base.points.forEach(point => {
                const li = document.createElement('li');
                li.textContent = point;
                pointsList.appendChild(li);
            });
            
            // Handle jumping card section
            const jumpingSection = document.getElementById('jumpingCardSection');
            if (readingType === 'jumping') {
                jumpingSection.classList.remove('hide');
                document.getElementById('jumpingCardDisplay').textContent = data.jumpingCard.emoji;
                
                const jumpingPoints = document.getElementById('jumpingReflectionPoints');
                jumpingPoints.innerHTML = '';
                data.base.jumpingPoints.forEach(point => {
                    const li = document.createElement('li');
                    li.textContent = point;
                    jumpingPoints.appendChild(li);
                });
                
                document.getElementById('jumpingGuidance').textContent = data.base.jumpingGuidance;
            } else {
                jumpingSection.classList.add('hide');
            }
        }

        function selectAvatar(avatar) {
            selectedAvatar = avatar;
            
            // Update avatar selection UI
            document.querySelectorAll('.avatar-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.querySelector(`[data-avatar="${avatar}"]`).classList.add('selected');
            
            // Show avatar reading
            document.getElementById('baseReading').classList.remove('active');
            showAvatarReading(avatar);
        }

        function showAvatarReading(avatar) {
            const avatarData = AVATARS[avatar];
            const readingData = CARDS[currentReading];
            const avatarReading = document.getElementById('avatarReading');
            
            // Set avatar class for styling
            avatarReading.className = `avatar-reading ${avatar} active`;
            
            // Set header
            document.getElementById('avatarReadingIcon').textContent = avatarData.icon;
            document.getElementById('avatarReadingName').textContent = avatarData.name;
            document.getElementById('avatarTagline').textContent = avatarData.tagline;
            
            // Display cards
            const avatarCardsDisplay = document.getElementById('avatarCardsDisplay');
            avatarCardsDisplay.innerHTML = '';
            
            if (currentReading === 'daily') {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card-position';
                cardDiv.innerHTML = `
                    <div class="tarot-card">${readingData.card.emoji}</div>
                    <div class="position-label">${readingData.card.name}</div>
                `;
                avatarCardsDisplay.appendChild(cardDiv);
            } else if (currentReading === 'birth') {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'card-position';
                cardDiv.innerHTML = `
                    <div class="tarot-card">${readingData.card.emoji}</div>
                    <div class="position-label">${readingData.card.name}<br>Birth Date: ${readingData.birthdate}</div>
                `;
                avatarCardsDisplay.appendChild(cardDiv);
            } else {
                readingData.cards.forEach(cardData => {
                    const cardDiv = document.createElement('div');
                    cardDiv.className = 'card-position';
                    cardDiv.innerHTML = `
                        <div class="tarot-card">${cardData.emoji}</div>
                        <div class="position-label">${cardData.position}<br>${cardData.name}</div>
                    `;
                    avatarCardsDisplay.appendChild(cardDiv);
                });
            }
            
            // Set interpretation
            const readingKey = currentReading === 'three-card' ? 'threeCard' : currentReading;
            const interpretation = avatarData[readingKey];
            
            document.getElementById('avatarInterpretationTitle').textContent = interpretation.title;
            document.getElementById('avatarInterpretationText').textContent = interpretation.text;
            
            // Set music note
            document.getElementById('avatarMusicNote').textContent = avatarData.music[readingKey];
            
            // Set reflection points
            const pointsList = document.getElementById('avatarReflectionPoints');
            pointsList.innerHTML = '';
            interpretation.points.forEach(point => {
                const li = document.createElement('li');
                li.textContent = point;
                pointsList.appendChild(li);
            });
            
            // Handle jumping card section
            const avatarJumpingSection = document.getElementById('avatarJumpingSection');
            if (currentReading === 'jumping') {
                avatarJumpingSection.classList.remove('hide');
                document.getElementById('avatarJumpingText').textContent = interpretation.jumpingText;
            } else {
                avatarJumpingSection.classList.add('hide');
            }
        }

        function backToBase() {
            document.getElementById('avatarReading').classList.remove('active');
            document.getElementById('baseReading').classList.add('active');
        }

        function resetToSelection() {
            document.getElementById('baseReading').classList.remove('active');
            document.getElementById('avatarReading').classList.remove('active');
            document.getElementById('readingTypes').style.display = 'grid';
            
            // Reset avatar selection
            document.querySelectorAll('.avatar-card').forEach(card => {
                card.classList.add('disabled');
                card.classList.remove('selected');
            });
            
            currentReading = null;
            selectedAvatar = null;
        }
    </script>
</body>
</html>
