<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Majestic - Onboarding</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: #111827;
      min-height: 100vh;
      color: white;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    .container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2rem;
    }

    .screen {
      display: none;
      width: 100%;
      max-width: 600px;
    }

    .screen.active {
      display: block;
    }

    /* Crystal Ball */
    .crystal-ball {
      width: 10rem;
      height: 10rem;
      border-radius: 50%;
      background: conic-gradient(from 0deg, #a855f7, #ec4899, #f59e0b, #10b981, #3b82f6, #a855f7);
      margin: 0 auto 2rem;
      cursor: pointer;
      position: relative;
      animation: pulse 2s infinite;
    }

    .crystal-ball:hover {
      transform: scale(1.05);
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    .title {
      font-size: 3rem;
      font-weight: 300;
      letter-spacing: 0.2em;
      text-align: center;
      margin-bottom: 1rem;
    }

    .subtitle {
      text-align: center;
      color: #9ca3af;
      font-size: 1.125rem;
      font-style: italic;
    }

    .hint {
      text-align: center;
      color: #6b7280;
      font-size: 0.875rem;
      margin-top: 2rem;
    }

    /* Steps */
    .steps {
      margin: 2rem 0;
    }

    .step {
      display: flex;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .step-number {
      width: 2rem;
      height: 2rem;
      border: 2px solid white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .step-content h3 {
      margin-bottom: 0.25rem;
    }

    .step-content p {
      color: #d1d5db;
      font-size: 0.875rem;
    }

    /* Quiz */
    .quiz-box {
      background: #1f2937;
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .question {
      font-size: 1.25rem;
      margin-bottom: 1.5rem;
      text-align: center;
      font-weight: 300;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .option {
      background: #374151;
      border: 1px solid #4b5563;
      border-radius: 0.5rem;
      padding: 1rem;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option:hover {
      background: #4b5563;
      transform: translateX(4px);
    }

    .option-icon {
      font-size: 1.5rem;
    }

    /* Avatar Card */
    .avatar-card {
      background: #1f2937;
      border: 2px solid #374151;
      border-radius: 1rem;
      padding: 2rem;
      text-align: center;
      margin: 2rem 0;
    }

    .avatar-card.recommended {
      border-color: #fbbf24;
    }

    .badge {
      background: #fbbf24;
      color: #111827;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.75rem;
      font-weight: 700;
      display: inline-block;
      margin-bottom: 1rem;
    }

    .avatar-emoji {
      font-size: 4rem;
      margin: 1rem 0;
    }

    .avatar-name {
      font-size: 2rem;
      font-weight: 300;
      margin-bottom: 0.5rem;
    }

    .avatar-element {
      color: #9ca3af;
      margin-bottom: 1.5rem;
    }

    .avatar-quote {
      background: #111827;
      border-radius: 0.75rem;
      padding: 1rem;
      font-style: italic;
      color: #d1d5db;
      font-size: 0.875rem;
    }

    /* Buttons */
    .btn {
      width: 100%;
      padding: 1rem;
      border-radius: 0.5rem;
      border: none;
      font-size: 1.125rem;
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 500;
    }

    .btn-primary {
      background: white;
      color: #111827;
    }

    .btn-primary:hover {
      background: #f3f4f6;
    }

    .btn-secondary {
      background: transparent;
      color: #9ca3af;
      margin-top: 0.75rem;
    }

    .btn-secondary:hover {
      color: #d1d5db;
    }

    /* Mini Avatars */
    .mini-avatars {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      margin: 1rem 0;
    }

    .mini-avatar {
      background: #374151;
      border: 1px solid #4b5563;
      border-radius: 0.75rem;
      padding: 0.75rem;
      font-size: 1.5rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .mini-avatar:hover {
      transform: scale(1.1);
      border-color: #6b7280;
    }

    .text-center {
      text-align: center;
    }

    .text-sm {
      font-size: 0.875rem;
      color: #9ca3af;
    }

    .home-btn {
      position: fixed;
      top: 1rem;
      left: 1rem;
      background: #1f2937;
      border: 1px solid #374151;
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
      color: #9ca3af;
      text-decoration: none;
      font-size: 0.875rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.2s;
      z-index: 1000;
    }

    .home-btn:hover {
      background: #374151;
      color: #e2e8f0;
    }

    .progress-dots {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #4b5563;
      transition: all 0.3s;
    }

    .dot.active {
      background: white;
    }
  </style>
</head>
<body>
  <a href="index.html" class="home-btn">
    <span>‚Üê</span>
    <span>Home</span>
  </a>
  
  <div class="container">
    <!-- Splash Screen -->
    <div id="splash" class="screen active">
      <div class="crystal-ball" id="splashBall"></div>
      <h1 class="title">MAJESTIC</h1>
      <p class="subtitle">Explore your spiritual path</p>
      <p class="hint">Tap the crystal ball to begin</p>
    </div>

    <!-- Welcome Screen -->
    <div id="welcome" class="screen">
      <h1 class="title">HOW WILL IT</h1>
      <h1 class="title">WüîÆRK?</h1>
      
      <div class="steps">
        <div class="step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Answer two questions</h3>
            <p>We'll sense your spiritual energy and recommend your guide</p>
          </div>
        </div>
        
        <div class="step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Choose your avatar</h3>
            <p>Select from four elemental guides, each with unique wisdom</p>
          </div>
        </div>
        
        <div class="step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Begin your journey</h3>
            <p>Receive personalized tarot guidance and spiritual insights</p>
          </div>
        </div>
      </div>
      
      <button class="btn btn-primary" id="beginBtn">Begin Journey</button>
    </div>

    <!-- Question 1 -->
    <div id="question1" class="screen">
      <h1 class="title" style="font-size: 2rem;">MAJESTIC</h1>
      <div class="progress-dots">
        <div class="dot active"></div>
        <div class="dot"></div>
      </div>
      
      <div class="quiz-box">
        <p class="question">When life feels uncertain, you tend to‚Ä¶</p>
        <div class="options">
          <div class="option" data-avatar="casper">
            <span class="option-icon">üî•</span>
            <span>Take bold action and trust your instincts</span>
          </div>
          <div class="option" data-avatar="destiny">
            <span class="option-icon">üåä</span>
            <span>Flow with the changes and feel your way through</span>
          </div>
          <div class="option" data-avatar="olivia">
            <span class="option-icon">üå±</span>
            <span>Ground yourself and plan practical next steps</span>
          </div>
          <div class="option" data-avatar="elijah">
            <span class="option-icon">üí®</span>
            <span>Step back, breathe, and find balance</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Question 2 -->
    <div id="question2" class="screen">
      <h1 class="title" style="font-size: 2rem;">MAJESTIC</h1>
      <div class="progress-dots">
        <div class="dot active"></div>
        <div class="dot active"></div>
      </div>
      
      <div class="quiz-box">
        <p class="question">Your ideal guidance feels‚Ä¶</p>
        <div class="options">
          <div class="option" data-avatar="casper">
            <span class="option-icon">üî•</span>
            <span>Direct and empowering - 'Here's what to do'</span>
          </div>
          <div class="option" data-avatar="destiny">
            <span class="option-icon">üåä</span>
            <span>Intuitive and flowing - 'Trust what you feel'</span>
          </div>
          <div class="option" data-avatar="olivia">
            <span class="option-icon">üå±</span>
            <span>Practical and nurturing - 'Let's build this together'</span>
          </div>
          <div class="option" data-avatar="elijah">
            <span class="option-icon">üí®</span>
            <span>Balanced and wise - 'Consider all perspectives'</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Recommendation -->
    <div id="recommendation" class="screen">
      <h1 class="title" style="font-size: 2rem;">MEET YOUR</h1>
      <h1 class="title" style="font-size: 2rem;">GUIDE</h1>
      <p class="subtitle">& begin your spiritual journey</p>
      
      <div class="avatar-card recommended" id="mainCard">
        <div class="badge">Recommended</div>
        <div class="avatar-emoji" id="heroEmoji">üå±</div>
        <h3 class="avatar-name" id="heroName">Olivia</h3>
        <p class="avatar-element" id="heroElement">Earth</p>
        <div class="avatar-quote" id="heroQuote">
          "I guide with nurturing stability and help you build solid foundations."
        </div>
      </div>
      
      <button class="btn btn-primary" id="chooseBtn">Choose <span id="heroNameBtn">Olivia</span></button>
      <button class="btn btn-secondary" id="skipBtn">Skip - Use Quiz Result</button>
      
      <p class="text-center text-sm" style="margin: 1rem 0;">Or explore other guides</p>
      <div class="mini-avatars" id="miniAvatars"></div>
    </div>

    <!-- Confirmation -->
    <div id="confirmation" class="screen">
      <div class="avatar-emoji" id="finalEmoji">üå±</div>
      <h1 class="title" style="font-size: 2.5rem;">WELCOME</h1>
      <h2 class="subtitle" style="font-size: 1.5rem; margin-bottom: 1.5rem;" id="finalElement">Earth Seeker</h2>
      <p class="text-center" style="margin-bottom: 2rem; color: #9ca3af;" id="finalDesc">
        Olivia will guide your readings with grounded wisdom and practical insights.
      </p>
      
      <div class="avatar-quote" style="max-width: 28rem; margin: 0 auto 2rem;">
        <p id="finalQuote">"I guide with nurturing stability and help you build solid foundations."</p>
      </div>
      
      <button class="btn btn-primary" id="readingBtn">Begin Your First Reading</button>
    </div>
  </div>

  <script>
    // Avatar data
    const avatars = {
      olivia: {
        emoji: 'üå±',
        name: 'Olivia',
        element: 'Earth',
        description: 'grounded wisdom and practical insights',
        quote: 'I guide with nurturing stability and help you build solid foundations.'
      },
      elijah: {
        emoji: 'üí®',
        name: 'Elijah',
        element: 'Air',
        description: 'balanced philosophy and structured guidance',
        quote: 'I offer clarity through balanced perspective and thoughtful analysis.'
      },
      destiny: {
        emoji: 'üåä',
        name: 'Destiny',
        element: 'Water',
        description: 'intuitive flow and emotional wisdom',
        quote: 'I help you trust your intuition and flow with life's currents.'
      },
      casper: {
        emoji: 'üî•',
        name: 'Casper',
        element: 'Fire',
        description: 'passionate action and bold transformation',
        quote: 'I ignite your inner fire and guide you to take empowered action.'
      }
    };

    // State
    let answers = [];
    let recommended = null;
    let currentHero = null;
    let selected = null;

    // Navigation
    function showScreen(screenId) {
      try {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        const screen = document.getElementById(screenId);
        if (screen) {
          screen.classList.add('active');
        }
      } catch (e) {
        console.error('Error showing screen:', e);
      }
    }

    // Calculate recommendation
    function getRecommendation() {
      const counts = {};
      answers.forEach(a => counts[a] = (counts[a] || 0) + 1);
      return Object.keys(counts).reduce((a, b) => counts[a] > counts[b] ? a : b);
    }

    // Update hero card
    function updateHeroCard(avatarKey) {
      try {
        const avatar = avatars[avatarKey];
        const heroEmoji = document.getElementById('heroEmoji');
        const heroName = document.getElementById('heroName');
        const heroElement = document.getElementById('heroElement');
        const heroQuote = document.getElementById('heroQuote');
        const heroNameBtn = document.getElementById('heroNameBtn');
        
        if (heroEmoji) heroEmoji.textContent = avatar.emoji;
        if (heroName) heroName.textContent = avatar.name;
        if (heroElement) heroElement.textContent = avatar.element;
        if (heroQuote) heroQuote.textContent = `"${avatar.quote}"`;
        if (heroNameBtn) heroNameBtn.textContent = avatar.name;
        
        // Update recommended badge
        const card = document.getElementById('mainCard');
        if (card) {
          const badge = card.querySelector('.badge');
          if (avatarKey === recommended) {
            card.classList.add('recommended');
            if (badge) badge.style.display = 'inline-block';
          } else {
            card.classList.remove('recommended');
            if (badge) badge.style.display = 'none';
          }
        }
        
        // Update mini avatars
        const miniContainer = document.getElementById('miniAvatars');
        if (miniContainer) {
          miniContainer.innerHTML = '';
          Object.keys(avatars).forEach(key => {
            if (key !== avatarKey) {
              const mini = document.createElement('div');
              mini.className = 'mini-avatar';
              mini.textContent = avatars[key].emoji;
              mini.onclick = () => {
                currentHero = key;
                updateHeroCard(key);
              };
              miniContainer.appendChild(mini);
            }
          });
        }
      } catch (e) {
        console.error('Error updating hero card:', e);
      }
    }

    // Wait for DOM to be ready
    document.addEventListener('DOMContentLoaded', function() {
      try {
        // Event listeners
        const splashBall = document.getElementById('splashBall');
        const beginBtn = document.getElementById('beginBtn');
        const chooseBtn = document.getElementById('chooseBtn');
        const skipBtn = document.getElementById('skipBtn');
        const readingBtn = document.getElementById('readingBtn');
        
        if (splashBall) {
          splashBall.onclick = () => showScreen('welcome');
        }
        
        if (beginBtn) {
          beginBtn.onclick = () => showScreen('question1');
        }
        
        // Question 1
        document.querySelectorAll('#question1 .option').forEach(opt => {
          opt.onclick = () => {
            answers.push(opt.dataset.avatar);
            setTimeout(() => showScreen('question2'), 300);
          };
        });
        
        // Question 2
        document.querySelectorAll('#question2 .option').forEach(opt => {
          opt.onclick = () => {
            answers.push(opt.dataset.avatar);
            recommended = getRecommendation();
            currentHero = recommended;
            updateHeroCard(currentHero);
            setTimeout(() => showScreen('recommendation'), 300);
          };
        });
        
        // Choose button
        if (chooseBtn) {
          chooseBtn.onclick = () => {
            selected = currentHero;
            const avatar = avatars[selected];
            const finalEmoji = document.getElementById('finalEmoji');
            const finalElement = document.getElementById('finalElement');
            const finalDesc = document.getElementById('finalDesc');
            const finalQuote = document.getElementById('finalQuote');
            
            if (finalEmoji) finalEmoji.textContent = avatar.emoji;
            if (finalElement) finalElement.textContent = `${avatar.element} Seeker`;
            if (finalDesc) finalDesc.textContent = `${avatar.name} will guide your readings with ${avatar.description}.`;
            if (finalQuote) finalQuote.textContent = `"${avatar.quote}"`;
            
            showScreen('confirmation');
          };
        }
        
        // Skip button
        if (skipBtn) {
          skipBtn.onclick = () => {
            selected = recommended;
            const avatar = avatars[selected];
            const finalEmoji = document.getElementById('finalEmoji');
            const finalElement = document.getElementById('finalElement');
            const finalDesc = document.getElementById('finalDesc');
            const finalQuote = document.getElementById('finalQuote');
            
            if (finalEmoji) finalEmoji.textContent = avatar.emoji;
            if (finalElement) finalElement.textContent = `${avatar.element} Seeker`;
            if (finalDesc) finalDesc.textContent = `${avatar.name} will guide your readings with ${avatar.description}.`;
            if (finalQuote) finalQuote.textContent = `"${avatar.quote}"`;
            
            showScreen('confirmation');
          };
        }
        
        // Begin reading
        if (readingBtn) {
          readingBtn.onclick = () => {
            // Navigate directly to avatar selection
            window.location.href = 'avatar-selection.html';
          };
        }
      } catch (e) {
        console.error('Error setting up event listeners:', e);
      }
    });
  </script>
</body>
</html>
